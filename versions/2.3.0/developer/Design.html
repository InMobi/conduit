<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Jul 8, 2014 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Conduit - Design</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20140708" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Conduit
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2014-07-08</span>
                  &nbsp;| <span id="projectVersion">Version: 2.3.0</span>
                          |                           <a href="http://github.com/inmobi/" class="externalLink" title="InMobi">InMobi</a>
        &gt;
                          <a href="http://github.com/inmobi/conduit" class="externalLink" title="Conduit">Conduit</a>
        &gt;
    Design
              </div>
            <div class="xright">        
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Conduit</h5>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Conduit">Conduit</a>
            </li>
                  <li class="none">
                          <a href="../developer/Overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
            <strong>Design</strong>
          </li>
                  <li class="none">
                          <a href="../DevSetup/DevSetup.html" title="Dev setup">Dev setup</a>
            </li>
                  <li class="none">
                          <a href="../ConduitLite/ConduitLite.html" title="ConduitLite">ConduitLite</a>
            </li>
                  <li class="none">
                          <a href="../Audit/Audit.html" title="Audit">Audit</a>
            </li>
                  <li class="none">
                          <a href="../Visualization/Visualization.html" title="Visualization">Visualization</a>
            </li>
                  <li class="none">
                          <a href="../Admin/AdminScript.html" title="Admin Script">Admin Script</a>
            </li>
                  <li class="none">
                          <a href="../Monitoring/MonitoringConduit.html" title="Monitoring">Monitoring</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                                                                                                                                     <a href="http://www.inmobi.com/" title="inmobi" class="poweredBy">
        <img class="poweredBy"  alt="inmobi" src="../../images/inmobi-logo.jpg"     />
      </a>
                       
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <ul><li><a href="#Design">Design</a><ul><li><a href="#Current_Data_Transport_Problems">Current Data Transport Problems</a></li><li><a href="#Goals">Goals</a></li><li><a href="#What_Conduit_is_NOT_">What Conduit is NOT ?</a></li><li><a href="#Technology_Evaluation">Technology Evaluation</a></li><li><a href="#Design">Design</a></li><li><a href="#Salient_Features">Salient Features</a></li></ul></li></ul><div class="section"><h2>Design<a name="Design"></a></h2><p>Data Transport between Producers and Consumers.</p><div class="section"><h3>Current Data Transport Problems<a name="Current_Data_Transport_Problems"></a></h3><ul><li>Adhoc log aggregation</li><li>Duplicate data transfer</li><li>Tightly coupled - brittle</li><li>No Reliability Guarantees</li><li>Network glitches lead to huge backlog</li><li>High peak bandwidth requirement</li><li>No support or different data paths for near real-time use</li></ul></div><div class="section"><h3>Goals<a name="Goals"></a></h3><ul><li>Capability to transport event data between distributed sub-systems in reliable, efficient, scalable and uniform way for batch as well as near real-time consumption.</li><li>Decouple data consumers from producers</li><li>Savings on Network Bandwidth<ul><li>Reduce peak network requirements due to bulk data transfers in spurts.</li><li>Minimize Duplicate data transfers across WAN</li></ul></li></ul></div><div class="section"><h3>What Conduit is NOT ?<a name="What_Conduit_is_NOT_"></a></h3><ul><li>Filtering/transformation layer<ul><li>Data is delivered in raw format as being produced</li></ul></li><li>Data Store<ul><li>Consumers are expected to consume the data within certain SLA, after which ALL data is purged</li></ul></li><li>Batching semantics<ul><li>Consumer decide their own batching semantics &amp;ndash;Same data stream can be used by multiple consumers with different needs</li></ul></li></ul></div><div class="section"><h3>Technology Evaluation<a name="Technology_Evaluation"></a></h3><p>Details on Scribe setup/scenarios/usecases - <a href="../Scribe/ScribeArch.html">ScribeArch</a></p></div><div class="section"><h3>Design<a name="Design"></a></h3><p>Scribe Agents on each producer node. Producer application log messages using API which will write to the local scribe agent. Local scribe agent forward message to Scribe collectors. Scribe collectors writes to HDFS. Consumers pull data directly from HDFS.</p><img src="./../images/Conduit_pict2.png" alt="" /><p>Producer-1, Producer-2 and Producer-3 are the producers of the Conduit and Consumer-1, Consumer-2 and Consumer-3 are the consumers of the Cconduit.</p><p>Producer-1 publishes messages to A_1 and B_1 categories to conduit, Producer-2 publishes messages to A_2 category and Produce-3 publishes the messages to B_3 caterogty/stream. Consumer-1 is only pulling the data from only A_1 stream, Consumer-2 is pulling the data from B_1 and Consumer-3 is pulling the data from A_2 and B_3 streams.</p></div><div class="section"><h3>Salient Features<a name="Salient_Features"></a></h3><ol style="list-style-type: decimal"><li>Data compression: All data is kept in compressed form in HDFS. All cross dc transfers are of compressed data.</li><li>Data merging: Merging of local streams from multiple data-center into the single Hadoop cluster closer to the consumer.</li><li>Mirroring: Mirroring of merged data streams into another Hadoop cluster. Enabling BCP.</li><li>Data retention: Manage data retention in the cluster.</li></ol></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2014
                        <a href="https://github.com/InMobi">InMobi</a>.
            All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
